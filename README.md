<img src="https://disc-wolido.oss-cn-beijing.aliyuncs.com/idm-logo/%E6%B5%85%E8%89%B2%E8%83%8C%E6%99%AFlogo-%E5%B7%A6%E5%8F%B3.png" style="height: 60px" />

# IDM-GridCore

[![Built with å°é¡ºå­](https://img.shields.io/badge/Built%20with-%E5%B0%8F%E9%A1%BA%E5%AD%90-3b82f6?style=flat-square&logo=robotframework&logoColor=white)](.)

**ä¼—ç­¹å¼åˆ†å¸ƒå¼å¹¶è¡Œè®¡ç®—æ¡†æ¶** - è®©æˆç™¾ä¸Šåƒçš„è®¡ç®—èŠ‚ç‚¹åƒä¼—ç­¹ä¸€æ ·å…±åŒå‚ä¸ä»»åŠ¡ï¼Œè½»æ¾å®ç°ä¸‡äº¿çº§æ•°æ®å¹¶è¡Œè®¡ç®—ã€‚

---

## ğŸš€ AI Agent Skill Available!

**Use this distributed computing framework effortlessly with AI agents:**

ğŸ‘‰ **[agent-idm-gridcore](https://github.com/Wolido/agent-idm-gridcore)** ğŸ‘ˆ

*Just tell your AI agent what you need - it will handle deployment, task distribution, and result collection automatically!*

---

## é¡¹ç›®æ¦‚è¿°

IDM-GridCore æ˜¯ä¸€ä¸ªä¸“ä¸ºå¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—è®¾è®¡çš„è½»é‡çº§è°ƒåº¦æ¡†æ¶ã€‚å®ƒè§£å†³äº†ä¼ ç»Ÿåˆ†å¸ƒå¼è®¡ç®—ä¸­èŠ‚ç‚¹ç®¡ç†å¤æ‚ã€æ‰©å®¹å›°éš¾çš„é—®é¢˜ï¼Œé‡‡ç”¨"ä¼—ç­¹è®¡ç®—"ç†å¿µï¼šä»»ä½•è®¾å¤‡ï¼ˆæœåŠ¡å™¨ã€ç¬”è®°æœ¬ã€æ ‘è“æ´¾ï¼‰éƒ½å¯ä»¥åŒ¿ååŠ å…¥è®¡ç®—ç½‘ç»œï¼ŒæŒ‰é˜Ÿåˆ—é¡ºåºæ‰¹é‡æ‰§è¡Œä»»åŠ¡ã€‚

### æ ¸å¿ƒèƒ½åŠ›

| èƒ½åŠ› | è¯´æ˜ |
|------|------|
| **é˜Ÿåˆ—é©±åŠ¨** | ä»»åŠ¡é€šè¿‡ Redis é˜Ÿåˆ—åˆ†å‘ï¼Œè®¡ç®—èŠ‚ç‚¹è‡ªä¸»è·å– |
| **æ‰¹é‡æ‰§è¡Œ** | åŒä¸€æ‰¹ä»»åŠ¡å…¨å‘˜å¹¶è¡Œï¼Œå®Œæˆåå†å¼€å§‹ä¸‹ä¸€æ‰¹ |
| **å¼‚æ„æ”¯æŒ** | x86_64ã€ARM64 æ··åˆéƒ¨ç½²ï¼Œç»Ÿä¸€è°ƒåº¦ |
| **è¾¹ç¼˜å‹å¥½** | æ ‘è“æ´¾ä¹Ÿèƒ½æµç•…è¿è¡Œï¼ŒRust å®ç°å†…å­˜å ç”¨ä½ |
| **åŠ¨æ€æ‰©ç¼©** | èŠ‚ç‚¹éšæ—¶åŠ å…¥/é€€å‡ºï¼Œä¸å½±å“æ•´ä½“è®¡ç®— |
| **æ— çŠ¶æ€è®¾è®¡** | èŠ‚ç‚¹æ•…éšœä¸ä¸¢ä»»åŠ¡ï¼Œè‡ªåŠ¨é‡è¯• |

### é€‚ç”¨åœºæ™¯

- **ç§‘å­¦è®¡ç®—** - ææ–™æ¨¡æ‹Ÿã€åˆ†å­åŠ¨åŠ›å­¦ã€æœ‰é™å…ƒåˆ†æ
- **AI æ¨ç†** - å¤§è§„æ¨¡æ ·æœ¬æ‰¹é‡é¢„æµ‹
- **æ•°æ®å¤„ç†** - æ—¥å¿—åˆ†æã€ETL ä»»åŠ¡ã€æ ¼å¼è½¬æ¢
- **å‚æ•°æ‰«æ** - è¶…å‚æœç´¢ã€è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ

### å…¸å‹æ¶æ„

**æ•°æ®æµ**: ç”¨æˆ·ä»»åŠ¡ â†’ Redis è¾“å…¥é˜Ÿåˆ— â†’ è®¡ç®—èŠ‚ç‚¹æ±  â†’ Redis è¾“å‡ºé˜Ÿåˆ—

**è§’è‰²åˆ†å·¥**:
- **ComputeHub** (computehub): ç®¡ç†ä»»åŠ¡é˜Ÿåˆ—ã€åè°ƒè®¡ç®—èŠ‚ç‚¹ã€ç›‘æ§è¿è¡ŒçŠ¶æ€
- **GridNode** (gridnode): éƒ¨ç½²åœ¨å„è®¡ç®—èŠ‚ç‚¹ï¼Œæ‹‰å–é•œåƒã€å¯åŠ¨å®¹å™¨ã€ä¸ŠæŠ¥å¿ƒè·³
- **Redis**: ä»»åŠ¡é˜Ÿåˆ—å­˜å‚¨ï¼Œè¾“å…¥è¾“å‡ºåˆ†ç¦»
- **Docker**: å®é™…æ‰§è¡Œè®¡ç®—ä»»åŠ¡ï¼Œæ¯ä¸ªå®¹å™¨å• CPU è¿è¡Œ

## æ¶æ„

**ä¸‰å±‚æ¶æ„**

é¡¶å±‚ - è°ƒåº¦å±‚
    ComputeHub æœåŠ¡ç«¯ï¼šç®¡ç†ä»»åŠ¡é˜Ÿåˆ—ï¼Œåè°ƒè®¡ç®—èŠ‚ç‚¹
    Redis é˜Ÿåˆ—ï¼šå­˜å‚¨è¾“å…¥ä»»åŠ¡å’Œè¾“å‡ºç»“æœ

ä¸­å±‚ - è®¡ç®—å±‚
    GridNode èŠ‚ç‚¹ï¼šéƒ¨ç½²åœ¨å„è®¡ç®—è®¾å¤‡ä¸Šï¼Œä¸æœåŠ¡ç«¯é€šä¿¡
    èŠ‚ç‚¹ç±»å‹ï¼šæœåŠ¡å™¨ã€å·¥ä½œç«™ã€æ ‘è“æ´¾ç­‰å¼‚æ„è®¾å¤‡

åº•å±‚ - æ‰§è¡Œå±‚
    Docker å®¹å™¨ï¼šæ¯ä¸ªå®¹å™¨ç»‘å®šå•ä¸ª CPU æ ¸å¿ƒ
    å®¹å™¨æ•°é‡ï¼šé»˜è®¤ç­‰äºèŠ‚ç‚¹ CPU æ ¸å¿ƒæ•°ï¼Œå¯é…ç½®
    æ‰§è¡Œæ¨¡å¼ï¼šä» Redis å–ä»»åŠ¡ï¼Œè®¡ç®—ï¼Œå†™å›ç»“æœ

## å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨ ComputeHub æœåŠ¡ç«¯

**é…ç½®æ–‡ä»¶è·¯å¾„è¯´æ˜**ï¼š
- **macOS**: `~/Library/Application Support/idm-gridcore/computehub.toml`
- **Linux**: `~/.config/idm-gridcore/computehub.toml`

**é…ç½®æ–‡ä»¶è·¯å¾„ä¼˜å…ˆçº§**ï¼š
1. ç¯å¢ƒå˜é‡ `IDM_GRIDCORE_CONFIG` æŒ‡å®šçš„è·¯å¾„
2. ç”¨æˆ·é…ç½®ç›®å½•ï¼ˆæ— éœ€ sudoï¼‰
3. `/etc/idm-gridcore/computehub.toml`ï¼ˆéœ€è¦ sudoï¼Œä¸æ¨èï¼‰

**æ–¹å¼ä¸€ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡æŒ‡å®šé…ç½®è·¯å¾„ï¼ˆæ¨èï¼‰**

```bash
# macOS
export IDM_GRIDCORE_CONFIG="$HOME/Library/Application Support/idm-gridcore/computehub.toml"

# Linux
export IDM_GRIDCORE_CONFIG="$HOME/.config/idm-gridcore/computehub.toml"

cd server
cargo run --release
```

**æ–¹å¼äºŒï¼šç›´æ¥è¿è¡Œï¼ˆè‡ªåŠ¨åˆ›å»ºé…ç½®åˆ°ç”¨æˆ·ç›®å½•ï¼‰**

```bash
cd server
cargo run --release
# é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨åœ¨ç”¨æˆ·ç›®å½•åˆ›å»ºé»˜è®¤é…ç½®ï¼Œç¼–è¾‘è®¾ç½® token åé‡æ–°è¿è¡Œå³å¯
```

é»˜è®¤ç›‘å¬ `0.0.0.0:8080`

### 2. åœ¨è®¡ç®—èŠ‚ç‚¹å®‰è£… GridNode

```bash
cd gridnode
cargo build --release

# é¦–æ¬¡è¿è¡Œç”Ÿæˆé…ç½®æ–‡ä»¶
./target/release/gridnode
# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆè§ä¸‹æ–¹è·¯å¾„ï¼‰é…ç½®æœåŠ¡ç«¯åœ°å€å’Œ token
```

**é…ç½®æ–‡ä»¶é»˜è®¤è·¯å¾„**ï¼š
- **macOS**: `~/Library/Application Support/idm-gridcore/gridnode.toml`
- **Linux**: `~/.config/idm-gridcore/gridnode.toml`

**é…ç½®æ–‡ä»¶è·¯å¾„ä¼˜å…ˆçº§**ï¼š
1. ç¯å¢ƒå˜é‡ `IDM_GRIDCORE_CONFIG` æŒ‡å®šçš„è·¯å¾„
2. ç”¨æˆ·é…ç½®ç›®å½•ï¼ˆæ— éœ€ sudoï¼‰
3. `/etc/idm-gridcore/gridnode.toml`ï¼ˆéœ€è¦ sudoï¼Œä¸æ¨èï¼‰

### 3. é…ç½®è®¤è¯ Token

ComputeHub å’Œ GridNode å¿…é¡»ä½¿ç”¨ç›¸åŒçš„ token è¿›è¡Œè®¤è¯ã€‚

é…ç½®æ–‡ä»¶è·¯å¾„ï¼š
- **macOS**: `~/Library/Application Support/idm-gridcore/*.toml`
- **Linux**: `~/.config/idm-gridcore/*.toml`

```toml
token = "your-secret-token"
```

æ³¨æ„ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨ `/etc/idm-gridcore/` è·¯å¾„ï¼ˆéœ€è¦ root æƒé™ï¼‰ï¼Œæˆ–è®¾ç½®ç¯å¢ƒå˜é‡ `IDM_GRIDCORE_CONFIG` æŒ‡å®šä»»æ„è·¯å¾„ã€‚

### 4. æ³¨å†Œè®¡ç®—ä»»åŠ¡

**å•é•œåƒï¼ˆæ‰€æœ‰æ¶æ„é€šç”¨ï¼‰**:
```bash
curl -X POST http://localhost:8080/api/tasks \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your-secret-token" \
  -d '{
    "name": "hea-calc",
    "image": "your-registry/hea-calc:v1.0",
    "input_redis": "redis://:password@redis-host:6379",
    "output_redis": "redis://:password@redis-host:6379",
    "input_queue": "hea:input",
    "output_queue": "hea:output"
  }'
```

**å¤šæ¶æ„é•œåƒï¼ˆæ¨èï¼‰**:  
å¦‚æœé•œåƒæ”¯æŒå¤šæ¶æ„ï¼Œç›´æ¥æä¾›ä¸»é•œåƒåå³å¯ã€‚  
å¦‚æœä¸åŒæ¶æ„ä½¿ç”¨ä¸åŒé•œåƒæ ‡ç­¾ï¼Œä½¿ç”¨ `images` æ˜ å°„ï¼š

```bash
curl -X POST http://localhost:8080/api/tasks \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your-secret-token" \
  -d '{
    "name": "hea-calc",
    "images": {
      "linux/amd64": "your-registry/hea-calc:v1.0-amd64",
      "linux/arm64": "your-registry/hea-calc:v1.0-arm64"
    },
    "input_redis": "redis://:password@redis-host:6379",
    "input_queue": "hea:input",
    "output_queue": "hea:output"
  }'
```

æ”¯æŒçš„æ¶æ„ï¼š
- `linux/amd64` - x86_64 (Intel/AMD)
- `linux/arm64` - ARM64 (æ ‘è“æ´¾ 4, Apple Silicon, äº‘æœåŠ¡å™¨)
- `linux/arm/v7` - ARM32 (æ—§æ ‘è“æ´¾)

### 5. å¯åŠ¨è®¡ç®—èŠ‚ç‚¹

```bash
./target/release/gridnode
```

æ³¨æ„ï¼šå¦‚æœé…ç½®åœ¨ `/etc/idm-gridcore/` ä¸‹ï¼Œåˆ™éœ€è¦ `sudo` æƒé™ã€‚

GridNode ä¼šè‡ªåŠ¨ï¼š
- å‘ ComputeHub æ³¨å†Œ
- æ ¹æ® CPU æ ¸å¿ƒæ•°å¯åŠ¨ N ä¸ªå®¹å™¨
- æ¯ä¸ªå®¹å™¨ä» Redis å–ä»»åŠ¡è®¡ç®—
- å®šæœŸå‘é€å¿ƒè·³
- å“åº”ä»»åŠ¡åˆ‡æ¢å’Œåœæ­¢å‘½ä»¤

### 6. å®Œæˆå½“å‰ä»»åŠ¡

å½“å½“å‰ä»»åŠ¡çš„ Redis é˜Ÿåˆ—ç©ºäº†ï¼ˆäººå·¥ç¡®è®¤ï¼‰ï¼š

```bash
curl -X POST http://localhost:8080/api/tasks/finish \
  -H "Authorization: Bearer your-secret-token"
```

å“åº”ç¤ºä¾‹ï¼ˆæœ‰ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼‰ï¼š
```json
{
  "completed": "task-1",
  "started": "task-2",
  "message": "Task 'task-1' completed, 'task-2' started"
}
```

å“åº”ç¤ºä¾‹ï¼ˆæœ€åä¸€ä¸ªä»»åŠ¡ï¼‰ï¼š
```json
{
  "completed": "task-1",
  "started": null,
  "message": "Task 'task-1' completed, no more tasks"
}
```

æ‰€æœ‰è®¡ç®—èŠ‚ç‚¹ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚

### 7. åœæ­¢è®¡ç®—èŠ‚ç‚¹

**è¿œç¨‹åœæ­¢ï¼ˆé€šè¿‡ ComputeHubï¼‰**ï¼š

```bash
curl -X POST http://localhost:8080/api/nodes/{node_id}/stop \
  -H "Authorization: Bearer your-secret-token"
```

èŠ‚ç‚¹æ”¶åˆ°åœæ­¢è¯·æ±‚åä¼šï¼š
1. ç­‰å¾…å½“å‰è¿è¡Œçš„å®¹å™¨å®Œæˆï¼ˆæœ€é•¿ 30 ç§’ï¼Œå¯é…ç½®ï¼‰
2. æ¸…ç†å®¹å™¨èµ„æº
3. é€€å‡ºè¿›ç¨‹

**æœ¬åœ°åœæ­¢ï¼ˆç›´æ¥åœ¨è®¡ç®—èŠ‚ç‚¹ï¼‰**ï¼š

```bash
# å‰å°è¿è¡Œæ—¶æŒ‰ Ctrl+C
./gridnode
# Ctrl+C

# æˆ–ä½¿ç”¨ systemctl
sudo systemctl stop gridnode

# æˆ–å‘é€ SIGTERM
kill -TERM $(pgrep gridnode)
```

## API æ–‡æ¡£

### è®¤è¯

é™¤ `/health` å¤–ï¼Œæ‰€æœ‰ API éƒ½éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ Tokenï¼š
```
Authorization: Bearer <your-token>
```

### ç”¨æˆ· API

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/tasks` | POST | æ³¨å†Œæ–°ä»»åŠ¡ |
| `/api/tasks` | GET | æŸ¥çœ‹ä»»åŠ¡é˜Ÿåˆ— |
| `/api/tasks/next` | POST | åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼ˆæ—§ï¼Œå»ºè®®ä½¿ç”¨ finishï¼‰ |
| `/api/tasks/finish` | POST | å®Œæˆå½“å‰ä»»åŠ¡ï¼Œè‡ªåŠ¨å¼€å§‹ä¸‹ä¸€ä¸ª |
| `/api/nodes` | GET | æŸ¥çœ‹åœ¨çº¿èŠ‚ç‚¹ |
| `/api/nodes/:node_id/stop` | POST | è¯·æ±‚èŠ‚ç‚¹ä¼˜é›…åœæ­¢ |

### è®¡ç®—èŠ‚ç‚¹ API

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/gridnode/register` | POST | èŠ‚ç‚¹æ³¨å†Œ |
| `/gridnode/heartbeat` | POST | å¿ƒè·³ä¸ŠæŠ¥ï¼ˆè¿”å› stop_requestedï¼‰ |
| `/gridnode/task` | GET | è·å–å½“å‰ä»»åŠ¡é…ç½® |

## å®¹å™¨ç¯å¢ƒå˜é‡

è®¡ç®—å®¹å™¨å¯åŠ¨æ—¶ä¼šæ³¨å…¥ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

| å˜é‡ | è¯´æ˜ |
|------|------|
| `TASK_NAME` | ä»»åŠ¡åç§° |
| `NODE_ID` | èŠ‚ç‚¹ ID |
| `INSTANCE_ID` | å®¹å™¨å®ä¾‹ ID |
| `INPUT_REDIS_URL` | è¾“å…¥é˜Ÿåˆ— Redis åœ°å€ |
| `OUTPUT_REDIS_URL` | è¾“å‡ºé˜Ÿåˆ— Redis åœ°å€ |
| `INPUT_QUEUE` | è¾“å…¥é˜Ÿåˆ—å |
| `OUTPUT_QUEUE` | è¾“å‡ºé˜Ÿåˆ—å |

å®¹å™¨å†…éƒ¨ä½¿ç”¨è¿™äº›å˜é‡è¿æ¥ Redis è·å–ä»»åŠ¡ã€‚

## é…ç½®æ–‡ä»¶

### GridNode é…ç½®

- **macOS**: `~/Library/Application Support/idm-gridcore/gridnode.toml`
- **Linux**: `~/.config/idm-gridcore/gridnode.toml`

**å¿…éœ€é…ç½®**ï¼ˆå¿…é¡»æ‰‹åŠ¨è®¾ç½®ï¼‰ï¼š
```toml
# ComputeHub æœåŠ¡ç«¯åœ°å€
server_url = "http://192.168.1.100:8080"

# èŠ‚ç‚¹è®¤è¯ Tokenï¼ˆå¿…é¡»ä¸ ComputeHub é…ç½®çš„ token ç›¸åŒï¼‰
token = "your-secret-token"
```

**å¯é€‰é…ç½®**ï¼ˆéƒ½æœ‰é»˜è®¤å€¼ï¼Œä¸€èˆ¬ä¸éœ€è¦ä¿®æ”¹ï¼‰ï¼š
```toml
# èŠ‚ç‚¹å”¯ä¸€ IDï¼ˆé¦–æ¬¡å¯åŠ¨ç”± ComputeHub åˆ†é…ï¼Œè‡ªåŠ¨ä¿å­˜ï¼‰
# node_id = "xxx-xxx-xxx"

# å¹¶è¡Œå®¹å™¨æ•°ï¼ˆé»˜è®¤ä½¿ç”¨ CPU æ ¸å¿ƒæ•°ï¼‰
# parallelism = 4

# å¿ƒè·³é—´éš”ï¼ˆç§’ï¼Œé»˜è®¤ 30ï¼‰
# heartbeat_interval = 30

# åœæ­¢å®¹å™¨çš„ä¼˜é›…è¶…æ—¶ï¼ˆç§’ï¼Œé»˜è®¤ 30ï¼‰
# ä»»åŠ¡åˆ‡æ¢æˆ–åœæ­¢æ—¶ï¼Œç»™å®¹å™¨å¤šå°‘æ—¶é—´æ¥å®Œæˆå½“å‰å·¥ä½œ
# stop_timeout = 30

# æ¯ä¸ªå®¹å™¨çš„å†…å­˜é™åˆ¶ï¼ˆMBï¼Œé»˜è®¤ 1024ï¼‰
# container_memory = 1024
```

**è‡ªåŠ¨æ£€æµ‹å­—æ®µ**ï¼ˆæ— éœ€é…ç½®ï¼‰ï¼š
- `hostname` - è‡ªåŠ¨è·å–ç³»ç»Ÿä¸»æœºå
- `architecture` - è‡ªåŠ¨æ£€æµ‹ CPU æ¶æ„ (x86_64/aarch64/arm)

## éƒ¨ç½²å»ºè®®

### æœåŠ¡ç«¯éƒ¨ç½²
- å»ºè®®éƒ¨ç½²åœ¨æœ‰å…¬ç½‘ IP çš„æœåŠ¡å™¨ä¸Š
- ä½¿ç”¨ systemd ç®¡ç†æœåŠ¡
- é…ç½® Nginx åå‘ä»£ç†ï¼ˆå¯é€‰ï¼‰

### è®¡ç®—èŠ‚ç‚¹éƒ¨ç½²
- æ ‘è“æ´¾ã€æœåŠ¡å™¨ã€ç¬”è®°æœ¬å‡å¯
- éœ€è¦ Docker ç¯å¢ƒ
- éœ€è¦èƒ½è®¿é—®æœåŠ¡ç«¯å’Œ Redis

### Redis éƒ¨ç½²

é¡¹ç›®æä¾›ç°æˆçš„ Redis Docker Compose é…ç½®ï¼š

```bash
cd redis-setup
# ç¼–è¾‘ .env è®¾ç½®å¯†ç 
vim .env
docker compose up -d
```

è¯¦è§ [redis-setup/README.md](redis-setup/README.md)ã€‚

**ç”Ÿäº§ç¯å¢ƒå»ºè®®**ï¼š
- éƒ¨ç½²åœ¨å…¬ç½‘å¯è®¿é—®çš„ä½ç½®ï¼ˆè®¡ç®—èŠ‚ç‚¹éœ€èƒ½è®¿é—®ï¼‰
- ä½¿ç”¨å¯†ç è®¤è¯
- å¯è€ƒè™‘ Redis Cluster é«˜å¯ç”¨

## å¤šå¹³å°æ„å»º

æ”¯æŒå¹³å°ï¼š
- **Linux x86_64** âœ… åŸç”Ÿæ”¯æŒ
- **Linux ARM64** âœ… äº¤å‰ç¼–è¯‘
- **macOS ARM64 (M1/M2/M3)** âœ… åŸç”Ÿæ”¯æŒ

### å¿«é€Ÿæ„å»º

```bash
# æ„å»ºæ‰€æœ‰å¹³å°
./scripts/build-cross.sh

# æˆ–å•ç‹¬æ„å»º
./scripts/build-cross.sh linux-x64
./scripts/build-cross.sh linux-arm64
./scripts/build-cross.sh macos-arm64
```

### æ‰‹åŠ¨äº¤å‰ç¼–è¯‘

**Linux x86_64** (é»˜è®¤):
```bash
cargo build --release
```

**Linux ARM64**:
```bash
# æ·»åŠ  Rust target
rustup target add aarch64-unknown-linux-gnu

# ä½¿ç”¨ cross ç¼–è¯‘ï¼ˆéœ€è¦ Dockerï¼‰
cross build --release --target aarch64-unknown-linux-gnu

# æˆ–ç›´æ¥åœ¨ Linux x86_64 ä¸Šç”¨ cargo ç¼–è¯‘ ARM64
# éœ€è¦å®‰è£…äº¤å‰ç¼–è¯‘å™¨: sudo apt-get install gcc-aarch64-linux-gnu
```

**macOS ARM64** (åœ¨ Mac ä¸Šæ‰§è¡Œ):
```bash
rustup target add aarch64-apple-darwin
cargo build --release --target aarch64-apple-darwin
```

### å¹³å°æ³¨æ„äº‹é¡¹

**æœ¬æœºç¼–è¯‘**ï¼ˆLinux x86_64 â†’ Linux x86_64, macOS â†’ macOSï¼‰:
- ä¸éœ€è¦ Docker
- ç›´æ¥è¿è¡Œ `cargo build --release`

**äº¤å‰ç¼–è¯‘**ï¼ˆmacOS â†’ Linux, Linux x86_64 â†’ ARM64ï¼‰:
- éœ€è¦ Docker è¿è¡Œ cross å®¹å™¨
- macOS: Docker Desktop æˆ– OrbStack
- Linux: Docker Engineï¼Œç”¨æˆ·éœ€åœ¨ `docker` ç»„

**è¿è¡Œ GridNode**:
- æ‰€æœ‰å¹³å°éƒ½éœ€è¦ Docker æ¥å¯åŠ¨è®¡ç®—å®¹å™¨

## æ•…éšœæ’é™¤

é‡åˆ°é—®é¢˜ï¼ŸæŸ¥çœ‹ [TROUBLESHOOTING.md](TROUBLESHOOTING.md) è·å–å¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ï¼š

- Docker æƒé™é—®é¢˜
- GridNode æ— æ³•æ³¨å†Œ
- ä»»åŠ¡ä¸æ‰§è¡Œ
- è·¨å¹³å°ç¼–è¯‘é—®é¢˜

## License

MIT

---

Built with â¤ï¸ by [å°é¡ºå­](https://github.com/Wolido)
